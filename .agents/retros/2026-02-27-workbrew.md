# Retrospective: WorkBrew — Cafe & WiFi Finder

__Date:__ 2026-02-27
__Scope:__ Full project — design, development, QA, deployment
__Live URL:__ [https://workbrew-m517.onrender.com/](https://workbrew-m517.onrender.com/)

## Summary

WorkBrew was delivered in a single focused session: 7 commits, 35/35 tests passing at 97% coverage, deployed to Render.com on the existing shared PostgreSQL instance with schema isolation. The team identified 10 learnings across process, testing, architecture, devops, and design.

## What Went Well

- Single-session MVP delivery, zero architectural rework
- Flask factory pattern (`create_app()`) made testing and deployment clean
- PostgreSQL schema isolation via `search_path` required no model changes
- Seed-on-startup chain solved free-tier shell access limitation elegantly
- Tailwind + Jinja2 + WTForms integration was tight with minimal boilerplate
- 35/35 tests, 97% coverage
- One-shot html/css design was well-received by Product Owner (acknowledged as fortunate)

## What Could Be Improved

- LOCAL_LOG.md was only updated at Phase 0 — phases 1–3 never logged
- `instance/` was not in `.gitignore` at project init — DB tracked and had to be removed
- Geocoded SQLite data lost due to `db.drop_all()` committed in test fixture
- Delete test required 3 fix cycles; flash message root cause should have been checked first
- Retro was PO-initiated, not Cap-initiated — Cap must drive this phase gate
- Teamlead wakeup workflow needs consolidation (PO action item)
- ASCII wireframes used instead of Excalidraw/Figma/Claude Artifacts

## Learnings Extracted

- L1: OPST skill resolution — read `_OPST/assets/SKILLS/<skill>/SKILL.md` directly
- L2: LOCAL_LOG.md must be updated at every phase gate, not just kickoff
- L3: Flask flash messages → anchor HTML assertions in redirect tests
- L4: Temp-file SQLite (not StaticPool) for Flask+SQLAlchemy test fixtures
- L5: WSGI bootstrap — `db.create_all()` must be outside `if __name__ == "__main__"`
- L6: PostgreSQL schema isolation via `search_path` in `connect_args`
- L7: Render free-tier seeding via `python seed.py && gunicorn` in startCommand
- L8: `instance/` in `.gitignore` from day one
- L9: Excalidraw/Figma/Claude Artifacts over ASCII mockups
- L10: Teamlead wakeup workflow consolidation needed

See: `.agents/learnings/2026-02-27-workbrew.md`

## Action Items

- [x] Update GLOBAL_EVOLUTION.md step 4 with skill resolution rule
- [x] Update GLOBAL_EVOLUTION.md with mockup tooling guidance
- [ ] PO: Consolidate teamlead wakeup workflow — single CLAUDE.md symlink anchor from `_OPST`
- [ ] Add `instance/` to project setup workflow `.gitignore` template
